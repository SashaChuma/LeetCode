import time
from typing import List
from typing import Optional
from functools import lru_cache
from collections import defaultdict
from queue import Queue
import math
import itertools
import heapq
from collections import Counter
from collections import deque 
import numpy 
import pprint
from typing import List
import bisect
#class Solution:
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right
    def print_tree(self, level=0, prefix="Root: "):
        print(" " * (level * 4) + prefix + str(self.val))
        if self.left:
            self.left.print_tree(level + 1, "L--- ")
        if self.right:
            self.right.print_tree(level + 1, "R--- ")

def print_matrix(matrix, rowheader=None, colheader=None):
    if not matrix:
        print("Empty matrix")
        return    
    col_widths = [max(len(str(item)) for item in col) for col in zip(*matrix)]
    if colheader:
        if (rowheader):
            print(" ", end=" ")
        print(" ".join(f"{item:>{width}}" for item, width in zip(colheader, col_widths)))
    for i, row in enumerate(matrix):
        if rowheader: 
            print(f"{rowheader[i]:>{col_widths[0]}}", end=" ")
        print(" ".join(f"{item:>{width}}" for item, width in zip(row, col_widths)))
import bisect
class Solution:
    def minCapability(self, nums: List[int], k: int) -> int:
        def check(x):
            d = [0 for _ in nums]
            d[0] = 1 if nums[0] <= x else 0
            d[1] = 1 if nums[1] <= x or d[0]==1 else 0
            for i in range(2, len(nums)):
                d[i] = max(d[i-1], d[i-2]+(1 if nums[i] <= x else 0))
            return max(d[-1], d[-2]) >= k
        if len(nums) <= 2:
            return min(nums)
        left = min(nums)
        right = max(nums)
        while left < right:
            mid = (left+right)//2
            if (check(mid)):
                right = mid - 1
            else:
                left = mid + 1
        if (check(left)):
            return left
        return left+1 
start_time = time.time()
t = Solution()
root = t.minCapability([643235,2662738,2409026,553530,3655,493439,736959,20919,2765834,1881309,1425832,1696388,876319,1358333,693633,1485869,2833957,1904501,547730,131141,2822914,1812609,1238966,3095991,1400286,3051807,2125143,572737,513679,1752764,1914851,1092652,2121348,2288109,2481495,770173,1681629,87091,1654682,2521073,2721598,1266421,2738474,2388134,80782,374268,1061742,3048497,2692094,720216,2315096,1587477,1587753,1633711,1445113,1106539,1052352,1319915,2919410,1498756,977937,2412492,2620793,2355524,1339706,192980,2537447,291574,2558033,1845224,2561381,1046897,2522264,948284,2039886,633850,747874,1578270,3036665,1433144,1008089,2567615,2199794,2898249,2767380,2479097,1842707,496377,674879,413355,177810,343016,980303,3178958,126907,1574656,2707358,1982190,2312049,1679423,2666064,3052118,1665651,1181102,1825023,1011293,1755793,239852,1835349,1018505,1032433,144857,2233207,19944,159889,901637,2852774,660450,1548258,75678,260031,1861677,2602761,48614,18206,2419580,2928588,31775,281770,1856891,2911365,2927754,3239820,2934806,3227110,31641,209327,183385,374404,2682281,884204,2931316,895364,680322,446014,726885,2802869,1704572,1410706,273507,1359651,2196018,985327,1108543,2465074,3202538,3152513,62237,2472630,3157812,1075863,2970496,2550912,204827,2929881,1629189,1904630,2925328,2989122,581782,1217956,943126,2347047,1739097,1151284,433085,1032220,2578360,2047198,83063,1809077,841941,2713178,2108910,3001076,1432924,2433595,1677850,2893732,1719124,1243103,2844186,1234603,2977725,1783935,1793914,2875781,625472,2460835,1626575,1646968,774594,867115,1358017,2546781,3233443,2738921,411837,863736,991877,1110914,2588545,1439149,2400450,2882280,333631,1923447,1687880,2399782,1362745,533532,1766117,3091450,3065761,628261,959,1967244,3122289,3030964,3158105,2740852,1703878,2043717,769175,1340442,1734564,406209,1241182,2545621,517224,419680,2910377,2113519,2434152,1784356,2534495,623850,912804,1233289,829299,2614835,1306269,1413319,1481079,2062389,2811194,357702,862177,2588023,2644667,2892161,443288,1146396,2063930,356125,759876,2464323,962952,1853550,1829071,1222133,1079164,1709695,2690701,1726972,1368905,2076292,1769475,1344381,1278452,2192154,2847550,1510943,786346,3126401,1908427,2850515,1080729,2609243,2539154,1675374,2328514,3047222,384131,1045543,2459601,280746,2391954,102274,2004765,2413647,223744,2509177,3057638,2102049,2197395,796079,2836658,2626166,2559859,2699452,146481,1396058,916388,15092,1283661,1263125,2734139,99100,1770076,140304,993775,2253279,763730,1115247,1258241,1254383,2437694,1922782,2761560,3051903,1795656,1753435,1579804,2222940,433193,2792100,3057748,1980889,1180382,1987884,1755393,2387593,172765,1007277,1678068,1492620,984939,1105054,822038,994983,1062309,1920822,1855828,2705544,1264957,2191435,2499688,268006,171142,2994347,2619503,2148890,672517,2842984,1061884,2529120,2866812,2097681,264286,2160105,431290,112254,2638863,1246003,3235576,1906211,1370845,1176891,1897115,794824,628768,51432,2430926,1324258,503778,360661,1107534,886448,1141514,2140449,10804,771921,2078132,2117643,1545751,793103,1231962,1740727,1517492,747612,929992,192701,724685,2522504,1958171,2495678,2361937,502504,2549348,1029486,1297761,1350564,2229240,261138,1119559,2874038,741068,363272,3203343,2135825,2716390,670467,2901689,2666030,1681178,876558,3209641,2331044,1097340,390317,3238624,2987195,953518,1012891,503567,1050017,836896,1660255,1720719,760964,1519885,1993816,1470401,1581355,2523024,1046120,1453318,1082263,1026749,2542456,909009,599722,880346,2872103,1583599,3047332,2248106,2948878,739037,530691,952171,1374824,2174095,3201193,1782360,1425712,1530398,2572314,1136324,2115900,1463095,831236,2656410,1479330,653502,3186911,1597657,2147751,3078031,2016165,183290,95159,2631404,2704693,155305,1205173,1481846,3104972,1637183,635103,344897,269636,1391378,893207,2578543,134474,2880245,2067631,3215734,2922207,2496800,1570786,2491245,2611110,124182,1474069,658210,263868,1096532,948649,232442,87991,864777,1013164,1297679,686489,3146922,2741179,1497642,1660909,1635101,557533,2255141,370860,1230948,471711,2554966,1231642,731835,2519989,1310505,21631,2270840,37387,1281553,2010242,2933259,532188,1443635,2448594,2007361,2284642,1959566,1419190,340730,984741,2447705,1909771,506908,973091,386366,1251252,2409784,1043989,277365,2540414,341890,475287,2165685,1223356,1617449,459011,966460,1668646,1578679,3189,2803875,2298408,1891446,2138871,537071,1719428,1075318,1558802,2292066,2982958,513032,2581124,2391144,544903,1392428,1902633,66702,391916,2281970,382122,1057863,153479,59300,2076592,1406807,2458873,1719554,63395,1393967,2055771,725190,326154,1094862,645566,2891432,16818,1023272,3062647,2614128,2719392,3229380,2323753,619757,1846815,2643653,2336648,1441599,896372,2862577,282431,2867496,1702299,2800072,104928,829212,2279348,1380508,2652119,2134754,3071541,477258,2404597,301076,463911,529667,1753304,2123035,2391209,2268428,1967548,99332,2541984,3015534,2539876,3086570,1928072,1369322,2548551,3148414,1255602,2347161,2702231,52092,753336,1757233,446414,3070158,1612094,1920479,1401231,1804806,2612874,1616225,1862304,2447626,2445160,1931144,1631738,1926541,2688512,2757503,3229229,2658912,1230514,2436127,1579984,1652428,857953,527341,2232776,3126208,398676,18042,7865,2745144,2213676,444306,733836,1166562,1330428,202460,2328630,2607394,60368,120384,1712610,554616,1767218,2681102,319135,2711390,1954897,3144988,2567186,153306,1001033,739390,3037081,1182709,183177,550303,2030259,657566,46320,2060320,2242279,2250399,548175,2681507,44132,2728116,541259,669887,2812059,1314890,334745,298336,1555854,2338219,2225587,2601392,2335999,943884,639201,1190315,438873,301532,358496,1958645,902035,1028547,1251566,226440,1862248,1568283,1979224,2395589,2831112,1659423,137439,2584965,511758,28727,1024991,1159860,1966074,1818346,3186248,1091539,1946988,13347,1193750,961268,2510188,1542433,3131594,815746,1684281,104312,2038763,564056,1264769,2097134,3010056,1024205,930754,1883310,1073065,2855223,3189252,2488371,2930612,3017160,969322,2096858,136531,704426,1354676,157379,992207,283550,1601186,1843931,30648,252322,2898830,1446650,1780598,2339599,578699,1443745,314284,2925790,1363832,1118571,2206338,1254083,2799905,645272,1752817,304884,2010197,1827505,1992084,2601959,2503520,585381,1666482,719506,2467864,3230206,323443,1590244,2173053,1274409,3180594,190050,1767619,1440122,2890638,260591,531036,1464248,1089179,236570,964175,956773,40818,684340,3113893,855692,2961050,2161089,866036,2007239,1477358,2260437,806798,538456,2583198,894050,2690977,1063963,1663843,2743522,944783,2205783,2222257,1339732,2526768,2392553,1664253,1033967,2008953,450938,3075129,1341673,1917829,456578,1975340,992883,1530714,2640536,521946,2820147,2363654,881356,1529715,2006705,2489129,314408,2904292,2821379,118205,90202,1760249,1178873,2371188,2280943,2132806,3138,2456711,27959,328,2085414,534156,2249457,1249309,533378,1329800,1565137,2489096,676238,246024,2998281,2141928,2391910,2782751,412174,378036,2716252,2173536,1894464,670244,2237067,1974349,526814,793769,1089284,886882,2937379,1565650,641123,148748,1018354,496714,2374117,403296,1539082,29345,1454462,72892,2005542,2532915,313859,2265008,1142954,1030876,2346067,457560,1841279,264821,1487609,2671161,2974839,382754,1898042,2264399,1832919,2153661,2273718,1282355,3167445,773143,1355495,2476060,506847,108227,113528,1687899,1509130,2048464,1671442,279417,1847089,2151656,2701816,1823751,721584,1565151,1802961,3101302,1651589,113461,190343,421421,2960905,544653,1320112,534492,361101,900489,2865595,706792,2499512,2131930,2535904,2347398,1482897,274326,2191909,3101891,2584172,207210,535304,3007419,1088216,1289206,2764811,80368,2636829,2282629,2476490,1106064,3018406,1253045,695717,1232125,1978738,182279,1616650,2507808,2657187,2508092,938032,2410994,3063870,2639498,717917,1692334,364265,2884742,2798394,930574,1804357,1133100,1306699,290054,2578455,1707486,2511270,237834,1398856,1755067,281640,1401699,3131333,2957053,506888,1647099,2486738,2772698,2746545,2885287,210347,2756181,515139,1863676,608041,1461752,2852440,461594,2119545,1520499,1431397,3027114,1465522,1104464,2986728,1485848,2382003,412114,2709644,2932592,9801,412570,1679414,1458770,319231,2871066,1626737,566444,855989,2838252,2627164,474570,2393038,2096530,1062479,3184884,1167577,1788414,1791100,1509342,1307071,1926345,1781818,1680137,1091365,2513132,2356187,952872,2739046,992501,1061350,2374779,2801855,1816762,57749,1009830,2036506,2180548,1133061,2028953,943771,1836534,2980659,2005474,2803367,1039779,1137510,1719037,1550965,2145903,1188925,1024144,207164,408776,1646648,879922,1321474,1146654,2835487,2669146,1383791,351488,2876507,3214699,823526,708737,1197066,2781045,357900,2027977,1755330,1046827,313899,2935011,3043954,2276167,1764763,3008761,1603350,601693,268538,2922109,2739388,2827715,2012148,1409162,1898324,2650787,400209,477290,138759,467680,228877,3120123,1872603,3092037,1281993,2876125,1489778,2977204,3102049,61167,1451423,350979,1374384,1842860,1119776,539384,1769644,2759278,2398929,2215081,261697,942078,1407932,167584,1586207,2021863,1768747,2200714,1127888,539739,73827,626758,184194,3124826,1224756,968224,2792259,814359,1973790,442949,1824766,1661647,407512,645559,239149,3154776,2729048,1871089,653694,126169,3054336,801541,1895311,1980008,3202854,1443867,336903,1931726,3232716,2709727,2213740,1992957,2486165,1212683,567816,1156223,913170,312673,1746491,2514394,947278,235128,1028098,2979185,612304,554521,2179286,1084265,1615421,1189026,1852641,42422,336833,3213202,676936,1383268,1406201,1145292,727328,545287,1349482,2466576,2897159,2372535,223129,2754679,1833373,2857441,1693311,701754,405383,1641584,1529651,1664669,1206031,278767,744054,401013,369783,3184266,2954879,926027,1774411,1540518,1804661,2313290,1075029,2570521,1921824,2871890,1935468,1845962,894345,1513980,169395,2559790,1461840,2094613,1418793,991536,84025,786864,788198,988736,2202144,3155716,2839516,2597638,2791714,989029,1454361,151977,96449,1054591,1891611,2405335,314132,2602477,3200218,3055397,2931524,336466,2738567,2605363,1799949,2545307,1639283,1501984,2715115,1879829,1877647,978061,1533182,2641933,149894,682632,1152906,1016372,1295322,1038069,345845,621630,1925545,2864993,317716,1212068,2729644,2794300,3236177,2080853,1436369,1538396,2598916,1128644,1682271,1516199,1081414,2000316,41342,1176587,771863,2637637,2402530,497503,1852399,2963896,2857531,2141497,1648586,2404563,1163980,2728303,1326729,1920898,2842954,338135,1516296,2011930,339156,225607,2917639,203938,1536034,821475,1365590,2454839,2730794,383277,2255704,1978529,2126161,2698042,420508,2925123,491779,1448840,3190757,91220,1565108,1202893,2082915,987877,171993,1004567,1495433,2632055,1667760,1331830,3237519,513392,1695157,3132408,2616455,1824947,138775,3073673,1060024,2704181,1817587,58415,779017,973438,2109549,1194774,1281820,831608,811885,2209438,1007873,15214,3075199,910009,3001949,591956,411622,1084003,1866101,1316297,571703,1585550,2360981,2682096,1653878,3118767,2080122,2339842,1998529,389544,527136,2824216,1965544,1381848,115363,2761853,2458745,1345939,2237972,1898107,1628947,1142172,1647593,298725,2031225,2598866,2696989,841723,2071994,682898,995009,271144,1166593,1589944,925391,2480855,1773816,1418199,447322,2665412,206646,1589410,159401,318612,2104319,3026703,85292,1309282,1678063,355936,1069716,573093,419693,299145,599864,1178875,1578130,274952,913574,3228535,1074630,1146277,2560689,888979,562834,3208905,1269296,3143744,1130680,1858799,3070503,2972833,2562524,2793677,2117275,3152978,1221095,708162,2889038,3027446,994118,405914,1014122,725772,2088493,1241283,3042357,613286,260633,1584267,2420008,1896907,966699,945403,2028090,1979246,791076,2103919,2293003,1173516,1654070,2577258,350108,249170,2805353,1484271,1957236,1286514,362635,1158565,2406691,1205490,3036525,1504155,1743137,1808286,1744487,2654141,2188438,2828562,3046641,1660577,3232012,1405435,1628951,617224,2241584,1317390,3122652,1639297,470658,1196082,468176,2610772,1136443,2380414,336021,55013,3133331,3052621,242698,3027173,383480,1615407,831651,208608,2017716,3094175,765757,2280737,1385645,135914,1847487,1132968,2798082,2687993,1679448,171866,2760043,2194470,2039118,3019539,277543,1756558,2726380,96234,45592,2172671,220256,2048316,2096197,1727341,620957,2057921,2074689,3131407,1697106,572961,3106000,2835707,1168897,1284142,1683070,2758063,162923,1648557,2779811,727449,1126912,917953,787159,313464,3080265,2017589,1165088,2456156,723467,1920082,302470,1246021,826640,438341,1325944,2237862,717330,1070705,300784,386014,2669017,584862,602199,1053996,1564072,1776000,2940538,1485192,1346519,1585245,2641970,1215538,606577,2758689,1199382,2840925,147070,1057219,2943698,1200949,2847582,2813777,1779681,2209794,1694264,1330929,2722044,2419444,2391439,916085,278157,1980127,1590903,173853,952610,1008812,804973,1465645,2264467,2603712,2150071,580925,2733963,1951467,579540,827221,1737966,547581,1307427,2772522,2356831,1816897,1160988,472111,1194083,3046121,375421,1351049,2720427,1220730,1445917,1495555,1956525,155758,2926877,1166792,805732,2585221,2692616,46101,1374476,30534,2713748,2464874,238485,307751,771947,971664,1955906,1047804,1137837,1159360,1868195,2047017,2720437,2007331,1543595,2275374,430150,3152916,276977,103285,3103374,374303,487906,1811534,475102,2860362,763454,2462680,1916403,2423006,2056517,328521,779710,1756229,1635989,3097804,3105456,3095360,1701337,2287617,33390,2839414,721332,348948,615631,2697795,406841,455262,1401242,2304190,2790720,686495,1822403,93906,536038,2380702,3188633,800973,521108,2291145,2631159,2869111,3126548,888464,2725158,815337,640471,1071366,799286,329500,2148637,3027016,651660,1189710,1992633,2836950,949699,2649788,2820888,2575096,2420645,2401828,542718,202590,818055,2722255,1463130,1305343,1120227,3180070,2471235,2233207,3211246,2859468,1583165,194575,2449816,754401,449199], 420)
#if root:

#    root.print_tree()
print(root)

end_time = time.time()
execution_time = end_time - start_time
print(f"Execution time: {execution_time} seconds")
